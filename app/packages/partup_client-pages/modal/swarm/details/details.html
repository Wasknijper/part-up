<template name="modal_swarm_settings_details">
    <div class="pu-composition pu-composition-defaultmodal">
        <h2 class="pu-title pu-title-modal">{{_ 'modal-swarm-details-title-page'}}</h2>
        <p>{{_ 'modal-swarm-details-paragraph-intro'}}</p>

        {{# autoForm id='swarmEditForm' schema=form.schema doc=form.fieldsForSwarm validation="submitThenKeyup" class="pu-form" }}
            <!-- image -->
            <div class="pu-formfield pu-formfield-text">
                <h3>{{_ 'modal-swarm-details-form-logo-label'}}</h3>
                <p>{{_ 'modal-swarm-details-form-logo-explaination'}}</p>
            </div>
            <div class="pu-formfield">
                <div class="pu-upload">
                    <figure style="background-image:url('{{ data.imageUrl }}')" class="pu-imagepreview pu-imagepreview-logo"></figure>
                    {{# FileInput inputSettings=form.imageInput }}
                        <button type="button" class="pu-button pu-button-secondary {{# if state.imageUploading }}pu-state-loading{{/ if }}" data-image-browse>
                            <span>{{_ 'modal-swarm-details-form-logo-button'}}</span>
                            {{> Spinner color='inverted' type='small' }}
                        </button>

                        <span class="pu-hint">{{_ 'modal-swarm-details-form-logo-button-info'}}</span>

                        <input type="file" class="pu-fileinput" data-image-input>
                    {{/FileInput}}
                    {{> afFieldInput name="image" type="hidden" }}
                </div>
            </div>
            <div class="pu-formfield pu-formfield-text">
                <h3>{{_ 'modal-swarm-details-form-intro-explaination-title'}}</h3>
                <p>{{_ 'modal-swarm-details-form-intro-explaination'}}</p>
            </div>
            <!-- name -->
            <label class="pu-formfield">
                <span class="pu-label">
                    {{_ 'modal-swarm-details-form-title-label'}}
                    <a class="pu-hint">
                        {{# if partupLowerThan state.titleCharactersLeft form.schema._schema.title.max }}
                            {{_ 'modal-swarm-details-form-title-characters-left' state.titleCharactersLeft }}
                        {{ else }}
                            {{_ 'modal-swarm-details-form-title-characters' form.schema._schema.title.max }}
                        {{/ if }}
                    </a>
                </span>

                <div class="pu-sub-validations {{# if afFieldIsInvalid name='title' }}pu-state-invalid{{/ if }}">
                    <span class="pu-sub-input">
                        {{> afFieldInput
                            name='title'
                            placeholder=translations.title
                            class='pu-input'
                        }}

                    </span>
                    <span class="pu-sub-error">{{ afFieldMessage name='title' }}</span>
                </div>
            </label>

            <!-- introduction -->
            <label class="pu-formfield">
                <span class="pu-label">
                    {{_ 'modal-swarm-details-form-shortintro-label'}}
                    <a class="pu-hint">
                        {{# if partupLowerThan state.introductionCharactersLeft form.schema._schema.introduction.max }}
                            {{_ 'modal-swarm-details-form-shortintro-characters-left' state.introductionCharactersLeft }}
                        {{ else }}
                            {{_ 'modal-swarm-details-form-shortintro-characters' form.schema._schema.introduction.max }}
                        {{/ if }}
                    </a>
                </span>

                <div class="pu-sub-validations {{# if afFieldIsInvalid name='introduction' }}pu-state-invalid{{/ if }}">
                    <span class="pu-sub-input">
                        {{> afFieldInput
                            name='introduction'
                            placeholder=translations.introduction
                            class='pu-textarea'
                            rows=3
                            maxlength=form.schema._schema.introduction.max
                        }}
                    </span>
                    <span class="pu-sub-error">{{ afFieldMessage name='introduction' }}</span>
                </div>
            </label>

            <!-- description -->
            <label class="pu-formfield">
                <span class="pu-label">
                    {{_ 'modal-swarm-details-form-organization-label'}}
                    <a class="pu-hint">
                        {{# if partupLowerThan state.descriptionCharactersLeft form.schema._schema.description.max }}
                            {{_ 'modal-swarm-details-form-organization-characters-left' state.descriptionCharactersLeft }}
                        {{ else }}
                            {{_ 'modal-swarm-details-form-organization-characters' form.schema._schema.description.max }}
                        {{/ if }}
                    </a>
                </span>

                <div class="pu-sub-validations {{# if afFieldIsInvalid name='description' }}pu-state-invalid{{/ if }}">
                    <span class="pu-sub-input">
                        {{> afFieldInput
                            name='description'
                            placeholder=translations.description
                            class='pu-textarea'
                            rows=8
                            maxlength=form.schema._schema.description.max
                        }}
                    </span>
                    <span class="pu-sub-error">{{ afFieldMessage name='description' }}</span>
                </div>
            </label>

            <div class="pu-formfield">
                <button type="submit" class="pu-button {{# if state.submitting }}pu-state-disabled pu-state-loading{{/ if }}">
                    <span>{{_ 'modal-swarm-details-form-submit'}}</span>
                    {{> Spinner color='inverted' type='small' }}
                </button>
            </div>
        {{/ autoForm }}
    </div>
</template>
