<template name="app_profile_about">

    <header class="pu-sub-header">
        <h2 class="pu-title">
            {{# if partupsLoading }}
                {{_ 'pages-app-profile-about-loading'}}
                {{> Spinner type='small' }}
            {{ else }}
                {{{_ 'pages-app-profile-about-name' name=firstname }}}
            {{/ if }}
        </h2>

        <!-- buttons -->
        {{# if profileIsCurrentUser }}
            <p class="pu-columnslayoutaction pu-paragraph pu-sub-right">
                {{_ 'pages-app-profile-label-add'}}
                <a class="pu-button" href="#" data-create-tile="photo">
                    <i class="picon-photo"></i>
                    {{_ 'pages-app-profile-button-photo'}}
                </a>
                <a class="pu-button" href="#" data-create-tile="video">
                    <i class="picon-video"></i>
                    {{_ 'pages-app-profile-button-video'}}
                </a>
            </p>
        {{/if}}
    </header>

    {{# ColumnTilesLayout instance=columnTilesLayout }}
        {{> ProfileTile }}
    {{/ ColumnTilesLayout }}

    <!-- photo popup -->
    {{# if profileIsCurrentUser }}
        {{# if partupIsPopupActive 'new-photo' }}
            {{# contentFor "PopupTitle" }}
                {{_ 'pages-app-profile-photo-title' }}
            {{/ contentFor }}
            {{# contentFor region="PopupContent" data=. }}
                {{> NewPhotoTile }}
            {{/ contentFor }}
        {{/ if }}
        <!-- video popup -->
        {{#if partupIsPopupActive 'new-video' }}
            {{# contentFor "PopupTitle" }}
                {{_ 'pages-app-profile-video-title' }}
            {{/ contentFor }}
            {{# contentFor region="PopupContent" data=. }}
                {{> NewVideoTile }}
            {{/ contentFor }}
        {{/ if }}
    {{/ if }}

    <!-- info popup -->
    {{#if partupIsPopupActive 'info' }}
        {{#contentFor "PopupTitle"}}
            {{_ 'pages-app-profile-about-info-title'}}
        {{/contentFor}}
        {{#contentFor region="PopupContent" data=.}}
            {{> InfoPopup }}
        {{/contentFor}}
    {{/if}}
</template>
