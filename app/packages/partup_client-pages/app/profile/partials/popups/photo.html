<template name="NewPhotoTile">
    {{#autoForm schema=formSchema id="newPhotoForm" class="pu-form pu-form-popup" }}
        {{> afFieldInput name="type" type="hidden" value="image"}}

        <div class="pu-formfield">
            <div class="pu-upload">
                <figure style="{{#with imageId}}background-image:url('{{ partupImageUrl id=. }}');{{/with}}" class="pu-imagepreview pu-sub-bordered"></figure>
                {{#FileInput inputSettings=imageInput}}
                    <button type="button" class="pu-button pu-button-secondary {{# if uploadingPhoto }}pu-state-loading{{/ if }}" data-image-browse>
                        <span>{{_ 'pages-app-profile-image-button' }}</span>
                        {{> Spinner color='inverted' type='small' }}
                    </button>

                    <span class="pu-hint">{{_ 'pages-app-profile-image-info' }}</span>

                    <input type="file" class="pu-fileinput" data-image-input>
                {{/FileInput}}
                {{> afFieldInput name="image_id" type="hidden" value=imageId }}
            </div>
        </div>
        <label class="pu-formfield">
            <span class="pu-label">
                {{_ 'pages-app-profile-description-label' }}
               <!--  <a class="pu-hint pu-tooltip">
                    <i class="picon-question"></i>
                    <span class="pu-tooltip-wrapper"><p class="pu-paragraph">{{_ 'pages-app-profile-description-tooltip' }}</p></span>
                </a> -->
            </span>

            <div class="pu-sub-validations {{#if afFieldIsInvalid name='description' }}pu-state-invalid{{/if}}">
                <span class="pu-sub-input">{{> afFieldInput name='description' placeholder=placeholders.description class="pu-textarea pu-textarea-condensed"  rows=2 }}</span>
                <span class="pu-sub-error">{{ afFieldMessage name='description' }}</span>
            </div>
        </label>
        <footer class="pu-row">
            <div class="cell">
                <button class="pu-button {{# if submitting }}pu-state-loading pu-state-disabled{{/ if }}">
                    <span>{{_ 'pages-app-profile-photo-submit'}}</span>
                    {{> Spinner color='inverted' type='small' }}
                </button>
            </div>
            <div class="cell stretch">
                <a class=" pu-button pu-button-text pu-button-text-subtle" data-dismiss>{{_ 'pages-app-profile-photo-close'}}</a>
            </div>
        </footer>
    {{/autoForm}}
</template>
