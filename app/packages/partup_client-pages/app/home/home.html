<template name="app_home">

    <article class="pu-page">
        <div class="pu-composition pu-composition-home">

            <!-- Header -->
            <header class="pu-sub-header">
                {{# if currentUser }}
                    <h2 class="pu-title pu-title-serif pu-title-home">
                        <span>{{_ 'pages-app-home-loggedin-heading' greeting=greeting name=firstName }}</span>
                    </h2>
                    <p class="pu-paragraph-inverted">{{_ 'pages-app-home-loggedin-paragraph' }}</p>
                    <p>
                        <ul class="pu-list pu-list-horizontal pu-list-buttons">
                            <li><a href="{{ pathFor 'create' }}" class="pu-button pu-button-large">{{_ 'pages-app-home-loggedin-start_partup' }}</a></li>
                            <li><a href="{{ pathFor 'discover' }}" class="pu-button pu-button-large">{{_ 'pages-app-home-loggedin-discover' }}</a></li>
                        </ul>
                    </p>
                {{ else }}
                    <h2 class="pu-title pu-title-serif pu-title-home">
                        <span>{{_ 'pages-app-home-heading' }}</span>
                    </h2>
                    <p class="pu-paragraph-inverted">{{_ 'pages-app-home-paragraph' }}</p>
                    <p>
                        {{# if videoWatched }}
                            <a href="{{ pathFor 'register' }}" class="pu-button pu-button-large">{{_ 'pages-app-home-signup' }}</a>
                        {{ else }}
                            <a href="#" class="pu-button pu-button-large" data-start-video>
                                <i class="picon-caret-right"></i>
                                {{_ 'pages-app-home-videobutton' }}
                            </a>
                        {{/ if }}
                    </p>
                {{/ if }}

                <div class="pu-wrap pu-wrap-video">
                    <div class="pu-sub-videowrapper {{# if playVideo }}pu-sub-videowrapper-active{{/ if }}">
                        {{# if playVideo }}
                            <iframe src="https://www.youtube.com/embed/{{_ 'pages-app-home-videopopupyoutubeid' }}?rel=0&showinfo=0&autoplay=1" frameborder="0" allowfullscreen></iframe>
                        {{/ if }}
                    </div>
                </div>
            </header>

            <!-- Featured staff-pick -->
            <section class="pu-sub-section pu-sub-section-accent pu-sub-section-smaller">
                <div class="pu-wrap pu-wrap-home">
                    <p class="pu-textline pu-textline-subtle">
                        <span>{{_ 'pages-app-home-featured_partup-heading' }}</span>
                    </p>

                    {{# if featured_partup }}
                        {{> PartupTileFeatured partup=featured_partup }}
                    {{ else }}
                        <div class="pu-sub-loading">
                            {{> Spinner }}
                        </div>
                    {{/ if }}
                </div>
            </section>

            <section class="pu-sub-section pu-sub-section-gradient">

                <div class="pu-wrap pu-wrap-home pu-sub-article">

                    <!-- Popular part-ups-->
                    <section class="pu-sub-subsection pu-sub-subsection-popularpartups">
                        <header class="pu-sub-popularpartupsheader">
                            <h3 class="pu-title pu-title-homesection">{{_ 'pages-app-home-discover-partups-popular-heading' }}</h3>
                            <p class="pu-sub-discoverbutton">
                                <a href="{{ pathFor 'discover' }}" class="pu-button">{{_ 'pages-app-home-discover-partups-viewall-button' }}</a>
                            </p>
                        </header>
                        <div class="pu-sub-partups">
                            {{# ColumnTilesLayout instance=columnTilesLayout }}
                                <div class="pu-tile">
                                    {{> PartupTile }}
                                </div>
                            {{/ ColumnTilesLayout }}

                            {{# if popularPartupsLoading }}
                                <div class="pu-sub-loading">
                                    {{> Spinner }}
                                </div>
                            {{/ if }}
                        </div>
                        <footer class="pu-sub-popularpartupsfooter">
                            <p class="pu-sub-discoverbutton">
                                <a href="{{ pathFor 'discover' }}" class="pu-button">{{_ 'pages-app-home-discover-partups-viewall-button' }}</a>
                            </p>
                        </footer>
                    </section>

                </div>

                <!-- Start your own part-up -->
                <section class="pu-sub-subsection pu-sub-article">
                    <div class="pu-wrap pu-wrap-home">
                        {{> CallToAction }}
                    </div>

                </section>

                <!-- Philosophy -->
                <section class="pu-sub-subsection pu-sub-article">
                    <div class="pu-wrap pu-wrap-home">
                        {{> Philosophy }}
                    </div>
                </section>

            </section>

            <!-- Business -->
            <section class="pu-sub-section pu-sub-section-last">
                <div class="pu-wrap pu-wrap-home">
                    {{# if featured_networks.length }}
                        {{> FeaturedNetworks networks=featured_networks }}
                    {{ else }}
                        <div class="pu-sub-loading">
                            {{> Spinner }}
                        </div>
                    {{/ if }}
                </div>
            </section>
        </div>
    </article>

</template>
